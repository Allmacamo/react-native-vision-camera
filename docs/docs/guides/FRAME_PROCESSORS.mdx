---
id: frame-processors
title: Frame Processors
sidebar_label: Frame Processors
---

import useBaseUrl from '@docusaurus/useBaseUrl';

<!-- TODO: Demo of QR code scanning or smth -->
<div>
  <svg xmlns="http://www.w3.org/2000/svg" width="283" height="535" style={{ float: 'right' }}>
    <image href={useBaseUrl("img/demo.gif")} x="18" y="33" width="247" height="469"  />
    <image href={useBaseUrl("img/frame.png")} width="283" height="535" />
  </svg>
</div>

### What are frame processors?

Frame processors are functions that are written in JavaScript (or TypeScript) which can be used to **process frames the camera "sees"**.
Inside those functions you can call **Frame Processor Plugins**, which are high performance native functions specifically designed for certain use-cases.

For example, you might want to create a QR code scanner **without ever writing native code**, while still **achieving almost-native performance**:

```jsx
function App() {
  const frameProcessor = useFrameProcessor((frame) => {
    'worklet'
    const qrCodes = scanQRCodes(frame)
    console.log(`Detected QR Codes: ${qrCodes}`)
  }, [])

  return (
    <Camera
      {...cameraProps}
      frameProcessor={frameProcessor}
    />
  )
}
```

Frame processors are by far not limited to QR code detection, other examples include:

* **AI** for **facial recognition**
* **AI** for **object detection**
* Using **Tensorflow**, **MLKit Vision** or other libraries
* Creating **realtime video-chats** using **WebRTC** to directly send the camera frames over the network
* Creating **snapchat-like filters**, e.g. draw a dog-mask filter over the user's face
* Creating **color filters** with depth-detection

Because of the Frame Processor API's extensibility, you can even create your **custom code-scanner plugins** - for example you might want to support a custom code design such as **Snapchat's SnapCodes** or **Apple's AppClips**:

<div align="center">
  <img src={useBaseUrl("img/snap-code.png")} height={150} />
  <img src={useBaseUrl("img/appclip.png")} height={150} style={{ marginLeft: 50 }} />
</div>

### Technical

**Frame Processors** are JS functions that will be **workletized** using [react-native-reanimated](https://github.com/software-mansion/react-native-reanimated). They are created on a **custom camera thread** using a separate JavaScript Runtime (_"VisionCamera JS-Runtime"_) and are **invoked synchronously** (using JSI) without ever going over the bridge.

**Frame Processor Plugins** are native functions (written in Objective-C, Swift, C++, Java or Kotlin) that are injected into the VisionCamera JS-Runtime. They can be **synchronously called** from your JS Frame Processors (using JSI) without ever going over the bridge.

> Learn how to [**create Frame Processor Plugins**](frame-processors-plugins-overview)

### Using Frame Processor Plugins

Frame Processor Plugins are distributed through npm. To install the [**vision-camera-qrcode-scanner**](https://github.com/mrousavy/vision-camera-qrcode-scanner) plugin, run:

```terminal
npm i vision-camera-qrcode-scanner
cd ios && pod install
```

Then add it to your `babel.config.js`. For the QR Code Scanner, this will be `__scanQRCodes`:

```js {6}
module.exports = {
  plugins: [
    [
      'react-native-reanimated/plugin',
      {
        globals: ['__scanQRCodes'],
      },
    ],
```

That's it! ðŸŽ‰ Now you can use it:

```ts
const frameProcessor = useFrameProcessor((frame: Frame) => {
  const codes = scanQRCodes(frame)
  // ...
}, [])
```

Check out [**Frame Processor community plugins**](frame-processor-plugin-list) to discover plugins!

<br />

#### ðŸš€ Next section: [Zooming with Reanimated](animated) (or [creating a Frame Processor Plugin](frame-processors-plugins-overview))
